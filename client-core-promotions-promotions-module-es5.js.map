{"version":3,"sources":["webpack:///src/app/pages/client-core/promotions/promotion-core/promotion-core.component.ts","webpack:///src/app/pages/client-core/promotions/promotion-core/promotion-core.component.html","webpack:///src/app/pages/client-core/promotions/promotion-core/reedeem-coupon/reedeem-coupon.component.ts","webpack:///src/app/pages/client-core/promotions/promotion-core/reedeem-coupon/reedeem-coupon.component.html","webpack:///src/app/pages/client-core/promotions/promotions-routing.module.ts","webpack:///src/app/pages/client-core/promotions/promotions.module.ts"],"names":["PromotionCoreComponent","selector","templateUrl","styleUrls","ReedeemCouponComponent","headerService","globalService","router","route","notificationService","CoupanCode","cashCardTrans","isLoading","loadDatas","castLoggedUserDetail","subscribe","resData","LoggedParams","GET_CASH_CARD_TRANS","params","DealerId","init","Dealerid","DestId","sProfile","sWalletId","data","error","showError","ex","coupanCode","WalletId","MAKE_CASH_RECHARGE","Reference","showSuccess","getUserWalletDetail","routes","path","component","children","pathMatch","redirectTo","title","breadcrumb","PromotionsRoutingModule","forChild","imports","exports","PromotionsModule","declarations"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAOaA,sB;;;AAEX,wCAAc;AAAA;AAAG;;;;mCAET,CACP;;;;;;;uBALUA,sB;AAAsB,K;;;YAAtBA,sB;AAAsB,yC;AAAA,c;AAAA,a;AAAA;AAAA;ACPnC;;;;;;;;;sEDOaA,sB,EAAsB;cALlC,uDAKkC;eALxB;AACTC,kBAAQ,EAAE,oBADD;AAETC,qBAAW,EAAE,iCAFJ;AAGTC,mBAAS,EAAE,CAAC,iCAAD;AAHF,S;AAKwB,Q;;;;;;;;;;;;;;;;;;;;AEPnC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;;;ACiDoD;;AAAoC;;AAAG;;;;;;AACvC;;AAAoC;;AAAI;;;;;;AAHhD;;AACI;;AACI;;AACA;;AACJ;;AACA;;AAAqD;;AAAiB;;AACtE;;AAAqD;;AAAiB;;AACtE;;AAAqD;;AAAc;;AACnE;;AAAqD;;AAAqB;;AAC1E;;AAAqD;;AAAiB;;AACtE;;AAAqD;;AAAoB;;AACzE;;AAAqD;;;;AAA2B;;AACpF;;;;;;AAVe;;AAAA;;AACA;;AAAA;;AAE0C;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;AACA;;AAAA;;;;;;AAEzD;;AACI;;AAAiB;;AAA6C;;AAA4B;;AAAS;;AACvG;;;;QDnD/BC,sB;;;AAKX,sCACUC,aADV,EAEUC,aAFV,EAGUC,MAHV,EAIUC,KAJV,EAMUC,mBANV,EAMkD;AAAA;;AALxC,aAAAJ,aAAA,GAAAA,aAAA;AACA,aAAAC,aAAA,GAAAA,aAAA;AACA,aAAAC,MAAA,GAAAA,MAAA;AACA,aAAAC,KAAA,GAAAA,KAAA;AAEA,aAAAC,mBAAA,GAAAA,mBAAA;AATV,aAAAC,UAAA,GAAkB,EAAlB;AACA,aAAAC,aAAA,GAAqB,EAArB;AACA,aAAAC,SAAA,GAAY,KAAZ;AAQK;;;;mCAEG;AACN,eAAKC,SAAL;AACD;;;oCACW;AAAA;;AACV,eAAKR,aAAL,CAAmBS,oBAAnB,CAAwCC,SAAxC,CACE,UAAAC,OAAO,EAAI;AACX,iBAAI,CAACC,YAAL,GAAoBD,OAApB,CADW,CAEX;;AACA,iBAAI,CAACE,mBAAL;AACC,WALH;AAOD,S,CACD;;;;8CACsB;AAAA;;AACpB,cAAMC,MAAM,GAAG;AACbC,oBAAQ,EAAE,KAAKd,aAAL,CAAmBe,IAAnB,CAAwBC,QADrB;AAEbC,kBAAM,EAAE,KAAKN,YAAL,CAAkBO,QAAlB,CAA2BC;AAFtB,WAAf;;AAIA,cAAI;AACF,iBAAKnB,aAAL,CAAmBY,mBAAnB,CAAuCC,MAAvC,EAA+CJ,SAA/C,CAAyD,UAAAW,IAAI,EAAI;AAC/D,oBAAI,CAACf,aAAL,GAAqBe,IAArB;AACD,aAFD,EAEG,UAAAC,KAAK,EAAI;AACV,oBAAI,CAAClB,mBAAL,CAAyBmB,SAAzB,CAAmC,wBAAnC,EAA6D,OAA7D;AACD,aAJD;AAKD,WAND,CAME,OAAOC,EAAP,EAAW;AACX,iBAAKpB,mBAAL,CAAyBmB,SAAzB,CAAmC,uBAAnC,EAA4D,OAA5D;AACD;AAEF,S,CAGD;;;;2CACmBE,U,EAAY;AAAA;;AAC7B,eAAKlB,SAAL,GAAiB,IAAjB;AACA,cAAMO,MAAM,GAAG;AACbT,sBAAU,EAAEoB,UADC;AAEbC,oBAAQ,EAAE,KAAKd,YAAL,CAAkBO,QAAlB,CAA2BC;AAFxB,WAAf;;AAIA,cAAI;AACF,iBAAKnB,aAAL,CAAmB0B,kBAAnB,CAAsCb,MAAtC,EAA8CJ,SAA9C,CAAwD,UAAAW,IAAI,EAAI;AAC9D,kBAAIA,IAAI,CAACO,SAAL,IAAkB,IAAtB,EAA4B;AAC1B;AACA,sBAAI,CAACxB,mBAAL,CAAyByB,WAAzB,kBAA+CJ,UAA/C,uCAA6F,SAA7F;;AACA,sBAAI,CAACZ,mBAAL;;AACA,sBAAI,CAACb,aAAL,CAAmB8B,mBAAnB;AACD,eALD,MAKO;AACL,sBAAI,CAAC1B,mBAAL,CAAyBmB,SAAzB,CAAmC,0BAAnC,EAA+D,OAA/D;AACD;;AACD,oBAAI,CAAChB,SAAL,GAAiB,KAAjB;AAED,aAXD,EAWG,UAAAe,KAAK,EAAI;AACR,oBAAI,CAACf,SAAL,GAAiB,KAAjB;;AACA,oBAAI,CAACH,mBAAL,CAAyBmB,SAAzB,CAAmC,wBAAnC,EAA6D,OAA7D;AACH,aAdD;AAeD,WAhBD,CAgBE,OAAOC,EAAP,EAAW;AACX,iBAAKjB,SAAL,GAAiB,KAAjB;AAEA,iBAAKH,mBAAL,CAAyBmB,SAAzB,CAAmC,uBAAnC,EAA4D,OAA5D;AACD;AACF;;;;;;;uBAzEUxB,sB,EAAsB,8I,EAAA,8I,EAAA,uH,EAAA,+H,EAAA,0J;AAAA,K;;;YAAtBA,sB;AAAsB,yC;AAAA,e;AAAA,a;AAAA,4tC;AAAA;AAAA;ACXnC;;AACI;;AACI;;AAEJ;;AACA;;AACI;;AACI;;AACI;;AACI;;AACI;;AACI;;AACI;;AACI;;AACI;;AACI;;AACI;;AAAO;;AAAW;;AAClB;;AAAwC;AAAA;AAAA;;AAAxC;;AACJ;;AACJ;;AACA;;AACI;;AAAoC;AAAA,mBAAS,IAAA4B,kBAAA,gBAAT;AAAuC,WAAvC;;AAEnC;;AACA;;AACD;;AACJ;;AACJ;;AACJ;;AACJ;;AACA;;AACI;;AAA0B;;AAE1B;;AACA;;AAEI;;AACI;;AACI;;AACI;;AAAkE;;AAAU;;AAC5E;;AAAkE;;AAAa;;AAC/E;;AAAkE;;AAAM;;AACxE;;AAAkE;;AAAM;;AAC5E;;AACJ;;AACA;;AAEI;;AAaA;;AAGJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;AACJ;;;;AAxDwF;;AAAA;;AAIpC;;AAAA;;AAED;;AAAA;;AAwBH;;AAAA;;AAaA;;AAAA;;;;;;;;;;sEDjDnC5B,sB,EAAsB;cALlC,uDAKkC;eALxB;AACTH,kBAAQ,EAAE,oBADD;AAETC,qBAAW,EAAE,iCAFJ;AAGTC,mBAAS,EAAE,CAAC,iCAAD;AAHF,S;AAKwB,Q;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEXnC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;AAMA,QAAMiC,MAAM,GAAW,CACrB;AACEC,UAAI,EAAE,EADR;AAEEC,eAAS,EAAE,+FAFb;AAGEC,cAAQ,EAAE,CACR;AACEF,YAAI,EAAE,EADR;AAEEG,iBAAS,EAAE,MAFb;AAGEC,kBAAU,EAAE;AAHd,OADQ,EAMR;AACEJ,YAAI,EAAE,eADR;AAEEC,iBAAS,EAAE,8GAFb;AAGEZ,YAAI,EAAE;AAACgB,eAAK,EAAE,QAAR;AAAkBC,oBAAU,EAAE;AAA9B;AAHR,OANQ;AAHZ,KADqB,CAAvB;;QAuBaC,uB;;;;;YAAAA;;;;yBAAAA,uB;AAAuB,O;AAAA,gBAHzB,CAAC,6DAAaC,QAAb,CAAsBT,MAAtB,CAAD,CAGyB,EAFxB,4DAEwB;;;;0HAAvBQ,uB,EAAuB;AAAA;AAAA,kBAFxB,4DAEwB;AAAA,O;AAFZ,K;;;;;sEAEXA,uB,EAAuB;cAJnC,sDAImC;eAJ1B;AACRE,iBAAO,EAAE,CAAC,6DAAaD,QAAb,CAAsBT,MAAtB,CAAD,CADD;AAERW,iBAAO,EAAE,CAAC,4DAAD;AAFD,S;AAI0B,Q;;;;;;;;;;;;;;;;;;AC7BpC;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;;QAmBaC,gB;;;;;YAAAA;;;;yBAAAA,gB;AAAgB,O;AAAA,gBANlB,CACP,4DADO,EAEP,kFAFO,EAGP,kEAHO,CAMkB;;;;0HAAhBA,gB,EAAgB;AAAA,uBARzB,+FAQyB,EAPzB,8GAOyB;AAPH,kBAEtB,4DAFsB,EAGtB,kFAHsB,EAItB,kEAJsB;AAOG,O;AAHb,K;;;;;sEAGHA,gB,EAAgB;cAV5B,sDAU4B;eAVnB;AACRC,sBAAY,EAAE,CACZ,+FADY,EAEZ,8GAFY,CADN;AAIRH,iBAAO,EAAE,CACP,4DADO,EAEP,kFAFO,EAGP,kEAHO;AAJD,S;AAUmB,Q","file":"client-core-promotions-promotions-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-promotion-core',\n  templateUrl: './promotion-core.component.html',\n  styleUrls: ['./promotion-core.component.scss']\n})\nexport class PromotionCoreComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<router-outlet></router-outlet>","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { GlobalService } from '../../../../../shared/services/global.service';\nimport { HeaderService } from '../../../../../shared/services/header.service';\nimport { NotificationService } from '../../../../../shared/services/notification.service';\n\n@Component({\n  selector: 'app-reedeem-coupon',\n  templateUrl: './reedeem-coupon.component.html',\n  styleUrls: ['./reedeem-coupon.component.scss']\n})\nexport class ReedeemCouponComponent implements OnInit {\n  LoggedParams: any;\n  CoupanCode: any = '';\n  cashCardTrans: any = [];\n  isLoading = false;\n  constructor(\n    private headerService: HeaderService,\n    private globalService: GlobalService,\n    private router: Router,\n    private route: ActivatedRoute,\n\n    private notificationService: NotificationService\n  ) { }\n\n  ngOnInit(): void {\n    this.loadDatas();\n  }\n  loadDatas() {\n    this.headerService.castLoggedUserDetail.subscribe(\n      resData => {\n      this.LoggedParams = resData;\n      // console.log('>>>', this.LoggedParams);\n      this.GET_CASH_CARD_TRANS();\n      }\n    );\n  }\n  // strURL = AppURL + \"GET_CASH_CARD_TRANS?DealerId=\" + LoggedDealerID + \"&DestId=\" + $scope.d.sProfile.sWalletId;\n  GET_CASH_CARD_TRANS() {\n    const params = {\n      DealerId: this.globalService.init.Dealerid,\n      DestId: this.LoggedParams.sProfile.sWalletId\n    };\n    try {\n      this.globalService.GET_CASH_CARD_TRANS(params).subscribe(data => {\n        this.cashCardTrans = data;\n      }, error => {\n        this.notificationService.showError('server not responding.', 'Error');\n      });\n    } catch (ex) {\n      this.notificationService.showError('Something Went Wrong.', 'Error');\n    }\n\n  }\n\n\n  // https://api.vfxmarkets.com/Tradersroom_API_vfxmarkets/MAKE_CASH_RECHARGE?CoupanCode=sqs&WalletId=2689\n  MAKE_CASH_RECHARGE(coupanCode) {\n    this.isLoading = true;\n    const params = {\n      CoupanCode: coupanCode,\n      WalletId: this.LoggedParams.sProfile.sWalletId\n    };\n    try {\n      this.globalService.MAKE_CASH_RECHARGE(params).subscribe(data => {\n        if (data.Reference != null) {\n          // this.notificationService.showSuccess(data.AdminComment, 'success');\n          this.notificationService.showSuccess(`Coupon ${coupanCode} has been redeemed Successfully.`, 'Success');\n          this.GET_CASH_CARD_TRANS();\n          this.headerService.getUserWalletDetail();\n        } else {\n          this.notificationService.showError('Enter Valid Coupon Code.', 'Error');\n        }\n        this.isLoading = false;\n\n      }, error => {\n          this.isLoading = false;\n          this.notificationService.showError('server not responding.', 'Error');\n      });\n    } catch (ex) {\n      this.isLoading = false;\n\n      this.notificationService.showError('Something Went Wrong.', 'Error');\n    }\n  }\n}\n","<div class=\"small-content-section bg-f\">\n    <div class=\"history-title px-3 border-bottom\">\n        Redeem Coupons\n        <!-- <small class=\"d-block text-size-12\">You can manually Redeem your Coupons here</small> -->\n    </div>\n    <div class=\"row\">\n        <div class=\"col-md-12\">\n            <div class=\"card border-0 \">\n                <div class=\"card-body border-0 p-0\">\n                    <div class=\"tabs-container\">\n                        <div class=\"tabs-body p-2\">\n                            <div class=\"transaction-form-container\">\n                                <div class=\"traction-from-box bg-b\">\n                                    <div class=\"row fromarea rounded \">\n                                        <div class=\"col-md-4\">\n                                            <div class=\"form-group\">\n                                                <label>Coupon Code</label>\n                                                <input type=\"text\" class=\"form-control\" [(ngModel)]=\"CoupanCode\" placeholder=\"Enter Coupon Code\">\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-3\" style=\"display: flex;align-items: center;\">\n                                            <button [disabled]=\"CoupanCode==''\" (click)=\"MAKE_CASH_RECHARGE(CoupanCode)\" type=\"button\" class=\"btn btn-primary btn-sm mt-3 px-4 position-relative\" style=\"padding: 6px;\n                                            margin-top: 12px!important;\">\n                                             <span [class.btn-spinner]=\"isLoading\"></span>  \n                                             Submit\n                                            </button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"tab-inner-content px-2 position-relative\">\n                                <div class=\"text-size-16\">Redeemed Coupons List\n                                    <!-- <small class=\"d-block text-size-12 \">Historical data of your Redeemed Coupons</small> -->\n                                </div>\n                                <div class=\"table-container table-responsive table-responsive table-responsive-sm mb-3 \">\n\n                                    <table class=\"table table-hover main-txt-color mb-0 \">\n                                        <thead class=\"table-header-bg table-header-color\">\n                                            <tr>\n                                                <th class=\"font-weight-500 bd-color text-capitalize align-middle\">Timestamp </th>\n                                                <th class=\"font-weight-500 bd-color text-capitalize align-middle\">Reference No.</th>\n                                                <th class=\"font-weight-500 bd-color text-capitalize align-middle\">Amount</th>\n                                                <th class=\"font-weight-500 bd-color text-capitalize align-middle\">Source</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody class=\"secondary-txt-color\">\n\n                                            <tr *ngFor=\"let trades of cashCardTrans\">\n                                                <td class=\"bd-color text-capitalize font-weight-400\">\n                                                    <label *ngIf=\"trades.BUY_SELL == 0\">BUY</label>\n                                                    <label *ngIf=\"trades.BUY_SELL == 1\">SELL</label>\n                                                </td>\n                                                <td class=\"bd-color text-capitalize font-weight-400\">{{trades.Ticket}}</td>\n                                                <td class=\"bd-color text-capitalize font-weight-400\">{{trades.Symbol}}</td>\n                                                <td class=\"bd-color text-capitalize font-weight-400\">{{trades.Lot}}</td>\n                                                <td class=\"bd-color text-capitalize font-weight-400\">{{trades.Open_Price}}</td>\n                                                <td class=\"bd-color text-capitalize font-weight-400\">{{trades.Profit}}</td>\n                                                <td class=\"bd-color text-capitalize font-weight-400\">{{trades.Stop_Loss}}</td>\n                                                <td class=\"bd-color text-capitalize font-weight-400\">{{trades.Open_Time | date}}</td>\n                                            </tr>\n                                            <tr *ngIf=\"cashCardTrans.length == 0\">\n                                                <td colspan=\"8\"> <label style=\"text-align:center;width:100%;\">You didn’t redeem any coupon</label> </td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { ReedeemCouponComponent } from './promotion-core/reedeem-coupon/reedeem-coupon.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PromotionCoreComponent } from './promotion-core/promotion-core.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PromotionCoreComponent,\n    children: [\n      {\n        path: '',\n        pathMatch: 'full',\n        redirectTo: 'redeem-coupon'\n      },\n      {\n        path: 'redeem-coupon',\n        component: ReedeemCouponComponent,\n        data: {title: 'Coupon', breadcrumb: 'Redeem Coupon'}\n      },\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PromotionsRoutingModule { }\n","import { SharedModule } from './../../../shared/shared.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PromotionsRoutingModule } from './promotions-routing.module';\nimport { PromotionCoreComponent } from './promotion-core/promotion-core.component';\nimport { ReedeemCouponComponent } from './promotion-core/reedeem-coupon/reedeem-coupon.component';\n\n\n@NgModule({\n  declarations: [\n    PromotionCoreComponent,\n    ReedeemCouponComponent],\n  imports: [\n    CommonModule,\n    PromotionsRoutingModule,\n    SharedModule\n  ]\n})\nexport class PromotionsModule { }\n"]}