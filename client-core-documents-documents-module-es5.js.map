{"version":3,"sources":["webpack:///src/app/pages/client-core/documents/documents-core/documents-core.component.ts","webpack:///src/app/pages/client-core/documents/documents-core/documents-core.component.html","webpack:///src/app/pages/client-core/documents/documents-core/kyc-upload/kyc-upload.component.ts","webpack:///src/app/pages/client-core/documents/documents-core/kyc-upload/kyc-upload.component.html","webpack:///src/app/pages/client-core/documents/documents-routing.module.ts","webpack:///src/app/pages/client-core/documents/documents.module.ts"],"names":["DocumentsCoreComponent","selector","templateUrl","styleUrls","KycUploadComponent","notificationService","renderer","global","http","spinner","isModalShown","videoWidth","videoHeight","kycMessageShow","kycErrorMsg","cameraShow","kycParams","ProfileId","localStorage","getItem","KYC_IDProof","KYC_AddrProof","KYC_Others","constraints","video","facingMode","width","ideal","height","getUser","JSON","parse","title","documentTitle","getUserr","doc","docc","documentImg","sProfile","uKYCInfo","ID_PRROF","console","log","ADDR_PROOF","Others","autoShownModal","hide","error","stream","setProperty","videoElement","nativeElement","listen","event","show","navigator","getUserMedia","mediaDevices","then","attachVideo","bind","catch","handleError","alert","documentType","startCamera","iddocs","adddocs","otherdocs","c","canvas","getContext","drawImage","data","App","oData","toDataURL","post","subscribe","res","resp","url","setItem","element","fileInput","iddocname","target","files","name","adddocname","othdocname","file","reader","FileReader","readAsDataURL","onload","result","err","id","add","oth","editUser","kyc","stringify","Result","loadData","updateKycMsg","MSG_USER","showSuccess","setTimeout","showError","encodeImageFileAsURL","open_camera","showModal","updateKYC","static","routes","path","component","children","pathMatch","redirectTo","breadcrumb","DocumentsRoutingModule","forChild","imports","exports","DocumentsModule","forRoot","declarations","schemas"],"mappings":"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","file":"client-core-documents-documents-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-documents-core',\n  templateUrl: './documents-core.component.html',\n  styleUrls: ['./documents-core.component.scss']\n})\nexport class DocumentsCoreComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<router-outlet></router-outlet>","import {\n  Component, ElementRef, OnInit, Renderer2, ViewChild } from '@angular/core';\nimport { GlobalService } from '../../../../../shared/services/global.service';\nimport { HttpClient } from '@angular/common/http';\nimport {  NgxSpinnerService } from 'ngx-spinner';\nimport { ModalDirective } from 'ngx-bootstrap/modal';\nimport { NotificationService } from '../../../../../shared/services/notification.service';\n\n@Component({\n  selector: 'app-kyc-upload',\n  templateUrl: './kyc-upload.component.html',\n  styleUrls: ['./kyc-upload.component.scss']\n})\n\nexport class KycUploadComponent implements OnInit {\n\n  @ViewChild('video', { static: true }) videoElement: ElementRef;\n  @ViewChild('canvas', { static: true }) canvas: ElementRef;\n  @ViewChild('autoShownModal', { static: false }) autoShownModal: ModalDirective;\n  isModalShown = false;\n  documentTitle;\n  documentImg;\n  getUserr;\n  videoWidth = 200;\n  videoHeight = 200;\n  iddocs;\n  adddocs;\n  otherdocs;\n  iddocname;\n  adddocname;\n  othdocname;\n  updateKycMsg;\n  kycMessageShow = false;\n  kycErrorMsg = false;\n  cameraShow = false;\n\n  kycParams = {\n    ProfileId: localStorage.getItem('LoggedDealermasterid'),\n    KYC_IDProof: '',\n    KYC_AddrProof: '',\n    KYC_Others: ''\n  };\n  constraints = {\n    video: {\n      facingMode: 'environment',\n      width: {\n        ideal: 4096\n      },\n      height: {\n        ideal: 2160\n      }\n    }\n  };\n\n  getUser: any;\n  showModal(title): void {\n    this.isModalShown = true;\n    this.documentTitle = title;\n    this.getUserr = JSON.parse(localStorage.getItem('LoggedUser'));\n\n    let doc = localStorage.getItem('kycdoc');\n    let docc = JSON.parse(doc);\n    if (doc) {\n\n      if (title == 'ID proof') {\n        this.documentImg = docc.KYC_IDProof;\n      }\n      if (title == 'Address proof') {\n        this.documentImg = docc.KYC_AddrProof;\n      }\n      if (title == 'Other proof') {\n        this.documentImg = docc.KYC_Others;\n      }\n    } else {\n      if (title == 'ID proof') {\n        this.documentImg = this.getUserr.sProfile.uKYCInfo.ID_PRROF;\n        console.log(this.documentImg);\n      }\n      if (title == 'Address proof') {\n        this.documentImg = this.getUserr.sProfile.uKYCInfo.ADDR_PROOF;\n        console.log(this.documentImg);\n      }\n      if (title == 'Other proof') {\n        this.documentImg = this.getUserr.sProfile.uKYCInfo.Others;\n        console.log(this.documentImg);\n      }\n    }\n\n  }\n\n  hideModal(): void {\n    this.autoShownModal.hide();\n  }\n\n  onHidden(): void {\n    this.isModalShown = false;\n  }\n\n  constructor(\n    private notificationService: NotificationService,\n    private renderer: Renderer2,\n    private global: GlobalService,\n    private http: HttpClient,\n    private spinner: NgxSpinnerService\n    ) {\n\n    this.getUser = JSON.parse(localStorage.getItem('LoggedUser'));\n\n  }\n\n  handleError(error) {\n    console.log('Error: ', error);\n  }\n  attachVideo(stream) {\n\n    this.renderer.setProperty(this.videoElement.nativeElement, 'srcObject', stream);\n    this.renderer.listen(this.videoElement.nativeElement, 'play', (event) => {\n      this.videoHeight = this.videoElement.nativeElement.videoHeight;\n      this.videoWidth = this.videoElement.nativeElement.videoWidth;\n      this.spinner.hide();\n      this.cameraShow = true;\n    });\n  }\n  startCamera() {\n\n    this.spinner.show();\n    if (navigator.getUserMedia) {\n      navigator.mediaDevices.getUserMedia(this.constraints).then(this.attachVideo.bind(this)).catch(this.handleError);\n    } else {\n      alert('Sorry, camera not available.');\n    }\n  }\n\n  open_camera(documentType) {\n\n    this.startCamera();\n\n    if (documentType == 'id') {\n      this.iddocs = 'id';\n    }\n\n    if (documentType == 'add') {\n      this.adddocs = 'add';\n    }\n\n    if (documentType == 'oth') {\n      this.otherdocs = 'oth';\n    }\n\n    console.log(this.iddocs + 's' + this.adddocs + 'a' + this.otherdocs);\n  }\n\n  capture(c) {\n    this.spinner.show();\n\n    this.renderer.setProperty(this.canvas.nativeElement, 'width', this.videoWidth);\n    this.renderer.setProperty(this.canvas.nativeElement, 'height', this.videoHeight);\n    this.canvas.nativeElement.getContext('2d').drawImage(this.videoElement.nativeElement, 0, 0);\n\n    const data = {\n      App: 'uploadReceit',\n      oData: c.toDataURL()\n    };\n\n    // tslint:disable-next-line: max-line-length\n    this.http.post('http://client.traderscabinet.com/tr_test/assets/PHP/alfa/v1/common/UploadDipositPaymentReceipt', data).subscribe((res: any) => {\n\n      if (res) {\n        this.spinner.hide();\n      }\n\n      if (this.iddocs == 'id') {\n        this.kycParams.KYC_IDProof = res.resp.url;\n        localStorage.setItem('idproof', res.resp.url);\n      }\n      if (this.adddocs == 'add') {\n        this.kycParams.KYC_AddrProof = res.resp.url;\n        localStorage.setItem('addproof', res.resp.url);\n      }\n      if (this.otherdocs == 'oth') {\n        this.kycParams.KYC_Others = res.resp.url;\n        localStorage.setItem('othproof', res.resp.url);\n      }\n    });\n\n  }\n\n  ngOnInit() {}\n\n\n  encodeImageFileAsURL(element: HTMLInputElement, documentType, fileInput: Event) {\n\n    if (documentType == 'id') {\n      this.iddocname = (fileInput.target as HTMLInputElement).files[0].name;\n    }\n    if (documentType == 'add') {\n      this.adddocname = (fileInput.target as HTMLInputElement).files[0].name;\n    }\n    if (documentType == 'oth') {\n      this.othdocname = (fileInput.target as HTMLInputElement).files[0].name;\n    }\n\n    this.spinner.show();\n    this.cameraShow = false;\n\n    console.log(element);\n    var file = element.files[0];\n    var reader = new FileReader();\n    reader.readAsDataURL(file);\n\n    reader.onload = () => {\n\n      console.log('RESULT', reader.result);\n      const data = {\n\n        App: 'uploadReceit',\n        oData: reader.result\n\n      };\n\n      // tslint:disable-next-line: max-line-length\n      this.http.post('http://client.traderscabinet.com/tr_test/assets/PHP/alfa/v1/common/UploadDipositPaymentReceipt', data).subscribe((res: any) => {\n        if (res) {\n          this.spinner.hide();\n\n        }\n        if (documentType == 'id') {\n          this.kycParams.KYC_IDProof = res.resp.url;\n          localStorage.setItem('idproof', res.resp.url);\n        }\n        if (documentType == 'add') {\n          this.kycParams.KYC_AddrProof = res.resp.url;\n          localStorage.setItem('addproof', res.resp.url);\n        }\n        if (documentType == 'oth') {\n          this.kycParams.KYC_Others = res.resp.url;\n          localStorage.setItem('othproof', res.resp.url);\n        }\n      }, err => {\n        this.spinner.hide();\n      });\n    };\n\n  }\n\n\n  updateKYC() {\n\n\n    // if ((this.kycParams.KYC_IDProof == '') || (this.kycParams.KYC_AddrProof == '')) {\n\n    //   this.kycErrorMsg = true;\n    //   setTimeout(() => {\n    //     this.kycErrorMsg = false;\n    //   }, 10000);\n\n\n    // } else {\n\n    let id = localStorage.getItem('idproof');\n    let add = localStorage.getItem('addproof');\n    let oth = localStorage.getItem('othproof');\n\n    if (id) {\n      this.kycParams.KYC_IDProof = id;\n    }\n    if (add) {\n      this.kycParams.KYC_AddrProof = add;\n    }\n    if (oth) {\n      this.kycParams.KYC_Others = oth;\n    }\n\n    this.spinner.show();\n    this.global.editUser(this.kycParams).subscribe((kyc: any) => {\n        localStorage.setItem('kycdoc', JSON.stringify(this.kycParams));\n        if (kyc.Result) {\n          this.global.loadData();\n          this.spinner.hide();\n          this.updateKycMsg = kyc.MSG_USER;\n          this.kycMessageShow = true;\n          this.notificationService.showSuccess('Profile KYC has been updated successfully.', 'Success');\n          setTimeout(() => {\n            this.kycMessageShow = false;\n          }, 10000);\n        }\n        console.log(kyc);\n\n      }, err => {\n        this.notificationService.showError(this.updateKycMsg, 'Error');\n\n        console.log(err);\n        this.spinner.hide();\n\n      });\n    // }\n  }\n}\n","<div class=\"col-md-12\">\n    <div *ngIf=\"isModalShown\" [config]=\"{ show: true }\" (onHidden)=\"onHidden()\" bsModal #autoShownModal=\"bs-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"dialog-auto-name\">\n        <div class=\"modal-dialog modal-md\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h4 id=\"dialog-auto-name\" class=\"modal-title pull-left\">{{documentTitle}}</h4>\n                    <button type=\"button\" type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"hideModal()\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n                </div>\n                <div class=\"modal-body\">\n                    <img src=\"{{documentImg}}\" class=\"img-fluid\">\n                    <label *ngIf=\"!documentImg\">No documents !</label>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"row\">\n\n        <div class=\"col-md-8\">\n            <form>\n                <div class=\"row\">\n                    <div class=\"col-md-12 pl0\">\n                        <div class=\"upload_file \">\n                            <h5 class=\"pl-3\">Upload ID Proof *</h5>\n                            <div class=\"upload_stlying d-flex flex-column pr-1\">\n                                <div class=\"input_upload file-area col\">\n                                    <input type=\"file\" accept=\".xlsx,.xls,image/*,.doc, .docx,.ppt, .pptx,.txt,.pdf\" (change)=\"encodeImageFileAsURL(file,'id',$event)\" #file id=\"images\" required>\n                                    <div class=\"file-dummy\">\n                                        <div class=\"success\">\n                                            You have selected a file to upload.\n                                            <h5>{{iddocname}}</h5>\n                                        </div>\n                                        <div class=\"default\">\n                                            <p class=\"m-0\">Please Upload Your ID Proof</p>\n                                            <p class=\"m-0\">Click Here</p>\n                                        </div>\n                                    </div>\n\n                                </div>\n\n                                <div class=\"py-auto m-auto col position-relative text-center text-success\">OR</div>\n\n                                <div class=\"camera_upload py-auto m-auto col\">\n                                    <button type=\"button\" class=\"mr-2 btn btn-primary btn-sm position-relative text-size-12\" (click)=\"open_camera('id')\" tooltip=\"Open web camera\" placement=\"bottom\">\n                                         <i-feather class=\"icon-size-18\" name=\"camera\"></i-feather>\n                                    </button>\n                                    <button type=\"button\" class=\"btn btn-primary btn-sm position-relative text-size-12\" (click)=\"showModal('ID proof')\" tooltip=\"View document\" placement=\"bottom\">\n                                        <i-feather class=\"icon-size-18\" name=\"file-text\"></i-feather>\n                                    </button>\n                                    <button [disabled]=\"kycParams.KYC_IDProof == ''\" type=\"button\" class=\"btn btn-sm position-relative text-size-13 ml-2 btn-primary\" (click)=\"updateKYC()\">Upload\n                    Document</button>\n                                </div>\n\n                            </div>\n                            <span class=\"extension\">*.jpg, .jpeg, .png, .bmp, .doc, .docx, .pdf</span>\n                        </div>\n                    </div>\n                    <div class=\"col-md-12 pl-1\">\n                        <div class=\"upload_file \">\n                            <h5 class=\"pl-3\">Upload Address Proof *</h5>\n                            <div class=\"upload_stlying file-area  d-flex flex-column\">\n                                <div class=\"input_upload col\">\n                                    <input required type=\"file\" accept=\".xlsx,.xls,image/*,.doc, .docx,.ppt, .pptx,.txt,.pdf\" (change)=\"encodeImageFileAsURL(file1,'add',$event)\" #file1>\n                                    <div class=\"file-dummy\">\n                                        <div class=\"success\">\n                                            You have selected a file to upload.\n                                            <h5>{{adddocname}}</h5>\n                                        </div>\n                                        <div class=\"default\">\n                                            <p class=\"m-0\">Please upload Your address proof</p>\n                                            <p class=\"m-0\">Click Here</p>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"m-auto col position-relative text-center text-success\">OR</div>\n                                <div class=\"camera_upload m-auto col\">\n                                    <button type=\"button\" class=\"mr-2 btn btn-primary btn-sm position-relative text-size-12\" (click)=\"open_camera('add')\" tooltip=\"Open web camera\" placement=\"bottom\">\n                    <i-feather class=\"icon-size-18\" name=\"camera\"></i-feather>\n                  </button>\n                                    <button type=\"button\" class=\"btn btn-primary btn-sm position-relative text-size-12\" (click)=\"showModal('Address proof')\" tooltip=\"View document\" placement=\"bottom\">\n                    <i-feather class=\"icon-size-18\" name=\"file-text\"></i-feather>\n                  </button>\n                                    <button [disabled]=\"kycParams.KYC_AddrProof == ''\" type=\"button\" class=\"btn btn-sm position-relative text-size-13 ml-2 btn-primary\" (click)=\"updateKYC()\">Upload\n                    Document</button>\n                                </div>\n                            </div>\n                            <span class=\"extension\">*.jpg, .jpeg, .png, .bmp, .doc, .docx, .pdf</span>\n                        </div>\n                    </div>\n                    <div class=\"col-md-12 pl0\">\n                        <div class=\"upload_file \">\n                            <h5 class=\"pl-3\">Upload Others *</h5>\n                            <div class=\"upload_stlying   d-flex flex-column\">\n                                <div class=\"input_upload file-area col\">\n                                    <input required type=\"file\" accept=\".xlsx,.xls,image/*,.doc, .docx,.ppt, .pptx,.txt,.pdf\" (change)=\"encodeImageFileAsURL(file2,'oth',$event)\" #file2>\n                                    <div class=\"file-dummy\">\n                                        <div class=\"success\">\n                                            You have selected a file to upload.\n                                            <h5>{{othdocname}}</h5>\n                                        </div>\n                                        <div class=\"default\">\n                                            <p class=\"m-0\">Please upload Your other proof</p>\n                                            <p class=\"m-0\">Click Here</p>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"m-auto col position-relative text-center text-success\">OR</div>\n                                <div class=\"camera_upload m-auto col\">\n                                    <button type=\"button\" class=\"mr-2 btn btn-primary btn-sm position-relative text-size-12\" (click)=\"open_camera('oth')\" tooltip=\"Open web camera\" placement=\"bottom\">\n                    <i-feather class=\"icon-size-18\" name=\"camera\"></i-feather>\n                  </button>\n                                    <button type=\"button\" class=\"btn btn-primary btn-sm position-relative text-size-12\" (click)=\"showModal('Other proof')\" tooltip=\"View document\" placement=\"bottom\">\n                    <i-feather class=\"icon-size-18\" name=\"file-text\"></i-feather>\n                  </button>\n                                    <button [disabled]=\"kycParams.KYC_Others == ''\" type=\"button\" class=\"btn btn-sm position-relative text-size-13 ml-2 btn-primary\" (click)=\"updateKYC()\">Upload\n                    Document</button>\n                                </div>\n                            </div>\n                            <span class=\"extension\">*.jpg, .jpeg, .png, .bmp, .doc, .docx, .pdf</span>\n                        </div>\n                    </div>\n                </div>\n            </form>\n        </div>\n        <div class=\"col-md-4\">\n            <div class=\"container mt-3\">\n                <div class=\"d-flex flex-column align-items-center\">\n                    <div class=\"p-1\">\n                        <video #video class=\"vid\" autoplay></video>\n                    </div>\n                    <div class=\"pb-2\">\n                        <button type=\"button\" *ngIf=\"cameraShow\" class=\"btn btn-primary btn-sm position-relative\" (click)=\"capture(canvas)\">Capture Image</button>\n                    </div>\n                    <div class=\"p-1\">\n                        <canvas #canvas class=\"vid\" width=\"400\" height=\"200\"></canvas>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<ngx-spinner></ngx-spinner>","import { KycUploadComponent } from './documents-core/kyc-upload/kyc-upload.component';\nimport { DocumentsCoreComponent } from './documents-core/documents-core.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DocumentsCoreComponent,\n    children: [\n      {\n        path: '',\n        pathMatch: 'full',\n        redirectTo: 'kyc-upload'\n      },\n      {\n        path: 'kyc-upload',\n        component: KycUploadComponent,\n        data: {title: 'KYC Upload', breadcrumb: 'KYC Upload'}\n      },\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class DocumentsRoutingModule { }\n","import { SharedModule } from './../../../shared/shared.module';\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DocumentsRoutingModule } from './documents-routing.module';\nimport { DocumentsCoreComponent } from './documents-core/documents-core.component';\nimport { KycUploadComponent } from './documents-core/kyc-upload/kyc-upload.component';\nimport { NgxSpinnerModule } from 'ngx-spinner';\nimport { AlertModule } from 'ngx-bootstrap/alert';\n// import { ModalModule } from 'ngx-bootstrap/modal';\n\n\n@NgModule({\n  declarations: [DocumentsCoreComponent, KycUploadComponent],\n  imports: [\n    CommonModule,\n    DocumentsRoutingModule,\n    SharedModule,\n    AlertModule.forRoot(),\n    NgxSpinnerModule\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class DocumentsModule { }\n"]}